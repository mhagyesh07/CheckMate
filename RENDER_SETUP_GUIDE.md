# ğŸ“ Where to Set Environment Variables on Render

## ğŸš€ Step-by-Step Render Setup

### Step 1: Create Web Service on Render

1. **Go to Render Dashboard**:
   - Visit: https://dashboard.render.com
   - Sign up/Login with GitHub

2. **Create New Service**:
   ```
   Click "New +" button (top right)
   â†’ Select "Web Service"
   ```

3. **Connect Repository**:
   ```
   â†’ Connect your GitHub account
   â†’ Select your chess-game repository
   â†’ Click "Connect"
   ```

### Step 2: Configure Service Settings

```
Service Name: chess-game-backend
Runtime: Docker
Region: Oregon (US West)
Branch: main
Root Directory: (leave empty)
```

### Step 3: Set Environment Variables

**This is where you add your MongoDB URI and other settings:**

1. **In the Render service setup page, scroll down to "Environment Variables" section**

2. **Click "Add Environment Variable" and add these one by one**:

```bash
# Required - You MUST set this
MONGODB_URI
mongodb+srv://Bhagyesh:CiGj8XmoKscMgiqU@cluster2.huaiu3c.mongodb.net/chess_game?retryWrites=true&w=majority&appName=Cluster2

# Auto-generated by Render (or set manually)
JWT_SECRET
chess-game-super-secret-jwt-key-2024-production-ready-32-chars-minimum

JWT_REFRESH_SECRET
chess-game-refresh-secret-different-from-main-jwt-secret-2024-prod

# Standard settings
NODE_ENV
production

PORT
10000

JWT_EXPIRES_IN
24h

JWT_REFRESH_EXPIRES_IN
7d

CORS_ORIGIN
*

LOG_LEVEL
info
```

### Step 4: Deploy

```
Click "Create Web Service"
â†’ Render will start building your Docker image
â†’ Wait for deployment to complete (5-10 minutes)
```

## ğŸ“± Visual Guide - Where to Find Environment Variables

### After Service is Created:

1. **Go to your service dashboard**
2. **Click on "Environment" tab** (left sidebar)
3. **You'll see a page like this**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Environment Variables                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Add Environment Variable] button       â”‚
â”‚                                         â”‚
â”‚ Key: MONGODB_URI                        â”‚
â”‚ Value: mongodb+srv://Bhagyesh:...       â”‚
â”‚ [Save Changes]                          â”‚
â”‚                                         â”‚
â”‚ Key: JWT_SECRET                         â”‚
â”‚ Value: chess-game-super-secret...       â”‚
â”‚ [Save Changes]                          â”‚
â”‚                                         â”‚
â”‚ + Add more variables...                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ Alternative Method: Using render.yaml (Automatic)

If you use the `render.yaml` file I created, most variables are set automatically. You only need to manually set:

### Only Set These Manually:
```bash
MONGODB_URI = mongodb+srv://Bhagyesh:CiGj8XmoKscMgiqU@cluster2.huaiu3c.mongodb.net/chess_game?retryWrites=true&w=majority&appName=Cluster2
```

### Auto-Set by render.yaml:
- NODE_ENV=production
- PORT=10000
- JWT_SECRET=auto-generated
- JWT_REFRESH_SECRET=auto-generated
- JWT_EXPIRES_IN=24h
- JWT_REFRESH_EXPIRES_IN=7d
- CORS_ORIGIN=*
- LOG_LEVEL=info

## ğŸ“ Exact Location in Render Dashboard

```
Dashboard â†’ Your Service â†’ Environment Tab
```

### Navigation Path:
```
1. https://dashboard.render.com
2. Click on your "chess-game-backend" service
3. Click "Environment" in the left sidebar
4. Click "Add Environment Variable"
5. Enter Key and Value
6. Click "Save Changes"
```

## ğŸ¯ What Each Variable Does

### MONGODB_URI (REQUIRED)
```bash
# Your actual MongoDB connection string
mongodb+srv://Bhagyesh:CiGj8XmoKscMgiqU@cluster2.huaiu3c.mongodb.net/chess_game?retryWrites=true&w=majority&appName=Cluster2
```

### JWT_SECRET (Auto-generated or manual)
```bash
# Secret key for signing JWT tokens
chess-game-super-secret-jwt-key-2024-production-ready-32-chars-minimum
```

### CORS_ORIGIN (Update after frontend deployment)
```bash
# Initially set to * (allow all)
*

# Later update to your Vercel URL
https://your-chess-game.vercel.app
```

## ğŸš¨ Important Notes

### Security:
- **Never commit** environment variables to GitHub
- **Use strong secrets** for JWT keys
- **Update CORS_ORIGIN** with your actual frontend URL

### MongoDB:
- Make sure your **MongoDB Atlas** allows connections from **0.0.0.0/0** (all IPs)
- Or add Render's IP ranges to your MongoDB whitelist

### Testing:
After deployment, test your API:
```bash
curl https://your-app-name.onrender.com/api/health
```

## ğŸ”„ Updating Environment Variables

### To Change Variables Later:
1. Go to your service dashboard
2. Click "Environment" tab
3. Edit existing variables or add new ones
4. Click "Save Changes"
5. Service will automatically redeploy

## ğŸ“± Mobile App Note

If you plan to build a mobile app later, you'll need to update CORS_ORIGIN to include your mobile app domains.

## âœ… Verification Checklist

After setting environment variables:

- [ ] MONGODB_URI is set with your actual connection string
- [ ] JWT_SECRET is set (32+ characters)
- [ ] JWT_REFRESH_SECRET is set (different from JWT_SECRET)
- [ ] NODE_ENV=production
- [ ] PORT=10000
- [ ] Service deploys successfully
- [ ] Health check passes: `/api/health`
- [ ] Can register/login users

Your backend will be available at:
```
https://your-service-name.onrender.com
```

Use this URL in your frontend environment variables!